(function(){var t,e,n,r,o;n=/^-?[£$¤]?[\d,.]+%?$/,o=/^\s+|\s+$/g,e=["click"],"ontouchstart"in document.documentElement&&e.push("touchstart"),t=function(t,e,n){return null!=t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},(r={init:function(t){var e,n,o,a,i;for(null==t&&(t={}),null==t.selector&&(t.selector="table[data-sortable]"),i=[],o=0,a=(n=document.querySelectorAll(t.selector)).length;o<a;o++)e=n[o],i.push(r.initTable(e));return i},initTable:function(t){var e,n,o,a,i,u;if(1===(null!=(u=t.tHead)?u.rows.length:void 0)&&"true"!==t.getAttribute("data-sortable-initialized")){for(t.setAttribute("data-sortable-initialized","true"),e=a=0,i=(o=t.querySelectorAll("th")).length;a<i;e=++a)"false"!==(n=o[e]).getAttribute("data-sortable")&&r.setupClickableTH(t,n,e);return t}},setupClickableTH:function(n,o,a){var i,u,l,s,c,d;for(l=r.getColumnType(n,a),u=function(t){var e,i,u,s,c,d,f,p,h,g,b,m,v,y,A,T,C,S,w,E,D,N,x,j;if(!0===t.handled)return!1;for(t.handled=!0,f="true"===this.getAttribute("data-sorted"),p=this.getAttribute("data-sorted-direction"),u=f?"ascending"===p?"descending":"ascending":l.defaultSortDirection,v=0,C=(g=this.parentNode.querySelectorAll("th")).length;v<C;v++)(o=g[v]).setAttribute("data-sorted","false"),o.removeAttribute("data-sorted-direction");if(this.setAttribute("data-sorted","true"),this.setAttribute("data-sorted-direction",u),h=n.tBodies[0],d=[],f){for(T=0,E=(j=h.rows).length;T<E;T++)i=j[T],d.push(i);for(d.reverse(),N=0,D=d.length;N<D;N++)c=d[N],h.appendChild(c)}else{for(m=null!=l.compare?l.compare:function(t,e){return e-t},e=function(t,e){return t[0]===e[0]?t[2]-e[2]:l.reverse?m(e[0],t[0]):m(t[0],e[0])},s=y=0,S=(x=h.rows).length;y<S;s=++y)c=x[s],b=r.getNodeValue(c.cells[a]),null!=l.comparator&&(b=l.comparator(b)),d.push([b,c,s]);for(d.sort(e),A=0,w=d.length;A<w;A++)c=d[A],h.appendChild(c[1])}return"function"==typeof window.CustomEvent&&"function"==typeof n.dispatchEvent?n.dispatchEvent(new CustomEvent("Sortable.sorted",{bubbles:!0})):void 0},d=[],s=0,c=e.length;s<c;s++)i=e[s],d.push(t(o,i,u));return d},getColumnType:function(t,e){var n,o,a,i,u,l,s,c,d,f,p;if(null!=(o=null!=(d=t.querySelectorAll("th")[e])?d.getAttribute("data-sortable-type"):void 0))return r.typesObject[o];for(u=0,s=(f=t.tBodies[0].rows).length;u<s;u++)for(n=f[u],a=r.getNodeValue(n.cells[e]),l=0,c=(p=r.types).length;l<c;l++)if((i=p[l]).match(a))return i;return r.typesObject.alpha},getNodeValue:function(t){var e;return t?null!==(e=t.getAttribute("data-value"))?e:void 0!==t.innerText?t.innerText.replace(o,""):t.textContent.replace(o,""):""},setupTypes:function(t){var e,n,o,a;for(r.types=t,r.typesObject={},a=[],n=0,o=t.length;n<o;n++)e=t[n],a.push(r.typesObject[e.name]=e);return a}}).setupTypes([{name:"numeric",defaultSortDirection:"descending",match:function(t){return t.match(n)},comparator:function(t){return parseFloat(t.replace(/[^0-9.-]/g,""),10)||0}},{name:"date",defaultSortDirection:"ascending",reverse:!0,match:function(t){return!isNaN(Date.parse(t))},comparator:function(t){return Date.parse(t)||0}},{name:"alpha",defaultSortDirection:"ascending",match:function(){return!0},compare:function(t,e){return t.localeCompare(e)}}]),setTimeout(r.init,0),"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof exports?module.exports=r:window.Sortable=r}).call(this);